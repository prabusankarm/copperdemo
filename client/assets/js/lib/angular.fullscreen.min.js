!function(e){var n=function(t){var e=t.module("FBAngular",[]);return e.factory("Fullscreen",["$document","$rootScope",function(e,n){var l=e[0],u="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,c=n.$new();e.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){c.$emit("FBFullscreen.change",r.isEnabled())});var r={$on:t.bind(c,c.$on),all:function(){r.enable(l.documentElement)},enable:function(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?e.webkitRequestFullscreen():e.webkitRequestFullscreen(u):e.msRequestFullscreen&&e.msRequestFullscreen()},cancel:function(){l.cancelFullScreen?l.cancelFullScreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.webkitExitFullscreen?l.webkitExitFullscreen():l.msExitFullscreen&&l.msExitFullscreen()},isEnabled:function(){return!!(l.fullscreenElement||l.mozFullScreenElement||l.webkitFullscreenElement||l.msFullscreenElement)},toggleAll:function(){r.isEnabled()?r.cancel():r.all()},isSupported:function(){var e=l.documentElement;return!!(e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen)}};return r}]),e.directive("fullscreen",["Fullscreen",function(r){return{link:function(l,u,c){if(c.fullscreen){l.$watch(c.fullscreen,function(e){var n=r.isEnabled();e&&!n?(r.enable(u[0]),u.addClass("isInFullScreen")):!e&&n&&(r.cancel(),u.removeClass("isInFullScreen"))});var e=r.$on("FBFullscreen.change",function(e,n){n||l.$evalAsync(function(){l.$eval(c.fullscreen+"= false"),u.removeClass("isInFullScreen")})});l.$on("$destroy",function(){e()})}else{if(void 0!==c.onlyWatchedProperty)return;u.on("click",function(e){r.enable(u[0])})}}}}]),e};"function"==typeof define&&define.amd?define("FBAngular",["angular"],function(e){return n(e)}):"undefined"!=typeof module&&module.exports?module.exports=n(e.angular).name:n(e.angular)}(window);