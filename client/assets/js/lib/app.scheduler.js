app.directive("dhxScheduler",function(){return{restrict:"A",scope:!1,transclude:!0,template:'<div class="dhx_cal_navline" ng-transclude></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',link:function(d,e,t,r){d.scheduler||(d.scheduler={}),d.scheduler.mode=d.scheduler.mode||"month",d.scheduler.date=d.scheduler.date||new Date,d.$watch(t.data,function(e){scheduler.clearAll(),scheduler.parse(e,"json")},!0),d.$watch(function(){return d.scheduler.mode+d.scheduler.date.toString()},function(e,t){var r=scheduler.getState();e.date==r.date&&e.mode==r.mode||scheduler.setCurrentView(d.scheduler.date,d.scheduler.mode)},!0),d.$watch(function(){return e[0].offsetWidth+"."+e[0].offsetHeight},function(){scheduler.setCurrentView()}),e.addClass("dhx_cal_container"),scheduler.init(e[0],d.scheduler.mode,d.scheduler.date)}}}),app.directive("dhxTemplate",["$filter",function(e){return scheduler.aFilter=e,{restrict:"AE",terminal:!0,link:function(e,t,r,d){t[0].style.display="none";var n=t[0].innerHTML;n=n.replace(/[\r\n]/g,"").replace(/"/g,'\\"').replace(/\{\{event\.([^\}]+)\}\}/g,function(e,t){if(-1!=t.indexOf("|")){var r=t.split("|");return"\"+scheduler.aFilter('"+r[1].trim()+"')(event."+r[0].trim()+')+"'}return'"+event.'+t+'+"'});var c=Function("sd","ed","event",'return "'+n+'"');scheduler.templates[r.dhxTemplate]=c}}}]);